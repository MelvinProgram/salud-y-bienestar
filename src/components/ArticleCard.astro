---
import type { Article } from "../types/Article";

// Tipar props
const props = Astro.props as Article;

// Destructurar
const { title, excerpt, image, date, category } = props;

// Formatear fecha
const formattedDate = date.toLocaleDateString("es-ES", {
  year: "numeric",
  month: "short",
  day: "numeric",
});
---
<article class="bg-white border rounded-xl shadow-sm overflow-hidden hover:shadow-md transition">
  <a href={`/articles/${props.slug}`} class="block">
    <img 
      src={image}
      alt={title}
      class="w-full h-40 object-cover"
      loading="lazy"
    />
  </a>

  <div class="p-4">
    <span class="text-xs font-bold uppercase text-indigo-600 mb-1 block">
      {category}
    </span>

    <a href={`/articles/${props.slug}`} class="block hover:text-indigo-700 transition duration-150">
      <h3 class="font-semibold text-lg leading-tight mb-2">
        {title}
      </h3>
    </a>

    <p class="text-sm text-gray-600 mb-3">
      {excerpt}
    </p>

    <div class="flex justify-between items-center text-xs text-gray-400">
      <span>{formattedDate}</span>
      <a href={`/articles/${props.slug}`} class="text-indigo-500 hover:text-indigo-700 font-medium">
        Leer Más →
      </a>
    </div>
  </div>
</article>
